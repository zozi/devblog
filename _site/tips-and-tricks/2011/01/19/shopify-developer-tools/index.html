<!DOCTYPE html>

<html>
  <head>

    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">

    <title>Shopify Developer Tools | User Obsessed: On building software for people</title>

    <script type="text/javascript" src="http://use.typekit.com/jjw2jrj.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <link type="text/css" rel="stylesheet" href="/stylesheets/reset.css">
    <link type="text/css" rel="stylesheet" href="/stylesheets/screen.css">
    <link type="text/css" rel="stylesheet" href="/stylesheets/code.css">
    <link rel="alternate" type="application/atom+xml"
      title="User Obsessed Feed" href="http://feeds.feedburner.com/userobsessed" />

    <link rel="apple-touch-icon" href="/images/iOS-114.png" />
    <link rel="apple-touch-icon-precomposed" href="/images/iOS-57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" media="screen and (resolution: 132dpi)" href="/images/iOS-72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" media="screen and (resolution: 326dpi)" href="/images/iOS-114.png" />

    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />



  </head>
  <body class="default">

    <section id="main">

      <section id="masthead" class="group">
        <header class="group">
          <p><a href="/">User<br>Obsessed</a></p>
          <h1>On building software for people</h1>
          <img src="/images/uo-logo.png">
        </header>
      </section>

      <section id="focus" class="group">

        <section id="content" class="group">
          

<article class="instapaper_body">
  <header>
    <h2 class="instapaper_title"><a href="/tips-and-tricks/2011/01/19/shopify-developer-tools/">Shopify Developer Tools</a></h2>
  </header>
  
    <p>I have done a bit of <a href="http://www.shopify.com">Shopify</a> development since starting <a href="http://blog.densitypop.com">densitypop</a>. When I build Ruby on Rails apps, I can run the site locally to test my work before I commit it. Since Shopify is a hosted service, this is much more difficult. In the past I used <a href="http://vision.shopify.com/">Vision</a>, a tool that emulates the Shopify backend through data fixtures and a server written in Ruby. It worked great until Shopify stopped updating it. Now, <a href="http://wiki.shopify.com/Vision#Vision_Troubleshooting">according to the wiki</a>, Vision lacks a lot of features that help make development and maintainance much easier. As far as I&rsquo;m concerned, it&rsquo;s dead.</p>

<p>After that I started using &ldquo;select all/copy &amp; paste&rdquo; instead. Huge pain. What I really wanted was the ability to save a file and have it automatically uploaded to my store. With the new <a href="http://www.shopify.com/developers">Shopify API</a> and <a href="https://github.com/mynyml/watchr">Watchr</a> this was just a small Ruby script away.</p>

<div class="highlight"><pre><code class="ruby">    <span class="nb">require</span> <span class="s1">&#39;shopify_api&#39;</span>

    <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;(?:templates|layout|assets)/.*\.liquid&#39;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">match</span><span class="o">|</span>
      <span class="nb">puts</span> <span class="s2">&quot;Updating %s...&quot;</span> <span class="o">%</span> <span class="o">[</span><span class="n">match</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="n">inspect</span><span class="o">]</span>
      <span class="n">upload_template</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">to_s</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">upload_template</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
      <span class="no">ShopifyAPI</span><span class="o">::</span><span class="no">Base</span><span class="o">.</span><span class="n">site</span> <span class="o">=</span>
        <span class="s2">&quot;http://{key}:{secret}@{domain}.myshopify.com/admin/&quot;</span>
      <span class="n">asset</span> <span class="o">=</span> <span class="no">ShopifyAPI</span><span class="o">::</span><span class="no">Asset</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
      <span class="n">asset</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
      <span class="n">asset</span><span class="o">.</span><span class="n">save</span>
    <span class="k">end</span>
</code></pre>
</div>

<p>(See <a href="https://gist.github.com/787359">https://gist.github.com/787359</a> for the latest version of this script).</p>

<h3 id="usage">Usage</h3>

<ol>
  <li>Create a new directory for your Shopify app.</li>
  <li>Create a directory called templates to store your Liquid templates.</li>
  <li>Install watchr via <code>gem install watchr</code>.</li>
  <li>Create a file called <code>watch.rb</code> in the root of your Shopify app.</li>
  <li>Paste the above code into <code>watch.rb</code>. Make sure you add your API key and password.</li>
  <li>Run <code>watchr watch.rb</code>; change a template and save it.</li>
</ol>

<p>Voila! You can now enjoy rapid Shopify development. I may be adding some more features soon, so be sure to check back.</p>

<h3 id="caveats">Caveats</h3>

<p>This process is a very bad idea for team development. I do not recommend it if you have multiple developers working on Shopify sites. This is equally bad if you are upgrading an existing site that needs to stay public; in that case, look into setting up a test store and do the work in there. However, if you&rsquo;re the sole coder this is a great way to work.</p>


  
  <footer class="group">
    <p>
      
      
      
        
      
      <time pubdate datetime="2011-01-19T12:00:00-08:00">Wednesday, January 19</time>
      
      <a class="icon" href="http://www.instapaper.com/hello2?u=http%3A%2F%2Fuserobsessed.net%2Ftips-and-tricks%2F2011%2F01%2F19%2Fshopify-developer-tools%2F&amp;title=Shopify%20Developer%20Tools" rel="alternate" title="Save to Instapaper">Read Later</a>
      
    </p>
  </footer>
</article>



        </section>

        <section id="sidebar">

          <section id="meta-col1" class="meta group">
            <aside id="about">
              <header>
                <h3>About</h3>
              </header>
              <p>
                User Obsessed is a blog that explores the role developers play in defining the way users experience software. <a href="/about">See more.</a>
              </p>
            </aside>

            <aside>
              <header>
                <h3>Stay up to date</h3>
              </header>
              <nav>
                <ul>
                  <li class="icon rss"><a href="http://feeds.feedburner.com/userobsessed">RSS</a></li>
                  <li class="icon twitter"><a href="http://twitter.com/userobsessed">Twitter</a></li>
                  <li class="icon"><a href="/subscribe">More</a></li>
                </ul>
              </nav>
            </aside>

            <aside id="ads">
            <p>
              <a href="/reviews/2011/01/13/review-authoring-ebooks-by-jeremy-mcanally/">
                <img src="/images/authoring-ebooks-ad.png">
              </a>
            </p>
            </aside>

          </section>

          <section id="meta-col2" class="meta group">

            <aside id="bio">
              <header>
                <h3>The Author</h3>
              </header>
              <p>
              My name is Joe Fiorini. I am a web developer from Cleveland, Ohio. I work for <a href="http://leandog.com">LeanDog Software</a> where I build software using <a href="http://www.rubyonrails.org">Ruby on Rails</a>. <a href="/bio">See more.</a>
              </p>
            </aside>

            <aside>
              <nav id="extra">
                <ul>
                  <li><a href="/colophon">Colophon</a></li>
                  <li><a href="/contact">Contact</a></li>
                </ul>
              </nav>
            </aside>

          </section>

        </section>

      </section>

      <section id="footer" class="group">
        <footer class="group">
          <nav id="site">
            <ul>
              <li><a href="/">Home</a></li>
              <li><a href="/about">About</a></li>
              <li><a href="/contact">Contact</a></li>
              <li><a href="/subscribe">Subscribe</a></li>
              <li><a href="/colophon">Colophon</a></li>
            </ul>
          </nav>
          <p class="copyright">
            &copy;2011 &ndash; Joe Fiorini
          </p>
        </footer>
      </section>

    </section>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23094691-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

  </body>
</html>
